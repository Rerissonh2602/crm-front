<div class="p-3 pt-0" [class.h-13]="!formVisible">
  <div class="relative flex w-full h-full rounded-lg">
    <button
      class="absolute inset-0 justify-start w-full rounded-lg"
      [ngClass]="{ 'opacity-0 pointer-events-none': formVisible }"
      mat-button
      (click)="toggleFormVisibility()"
      disableRipple
    >
      <mat-icon
        class="icon-size-5"
        [svgIcon]="'heroicons_outline:plus-circle'"
      ></mat-icon>
      <span class="ml-2 text-secondary">{{ buttonTitle }}</span>
    </button>
    <form
      class="flex flex-col items-start w-full"
      [ngClass]="{ 'opacity-0': !formVisible }"
      [formGroup]="form"
    >
      <div class="flex w-full rounded-lg bg-card">
        <input
          class="w-full py-2 px-3 leading-5 rounded-md border border-[#DCE0E4] bg-white focus:border-primary dark:border-[#404040] dark:focus:border-primary dark:bg-black dark:bg-opacity-5"
          [autocomplete]="'off'"
          [spellcheck]="'off'"
          [formControlName]="'name'"
          [placeholder]="'Insira o nome do lead...'"
          (keydown.enter)="save()"
          #nameInput
        />
      </div>
      <div class="flex items-center mt-2">
        <button
          class="h-8 min-h-8"
          mat-flat-button
          [color]="'primary'"
          [type]="'button'"
          (click)="save()"
        >
          <span class="text-white">Salvar o lead</span>
        </button>
        <button
          class="ml-1 w-8 h-8 min-h-8"
          mat-icon-button
          [type]="'button'"
          (click)="toggleFormVisibility()"
        >
          <mat-icon
            class="icon-size-4"
            [svgIcon]="'heroicons_solid:x'"
          ></mat-icon>
        </button>
      </div>
    </form>
  </div>
</div>
